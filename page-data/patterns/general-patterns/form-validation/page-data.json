{"componentChunkName":"component---src-templates-article-page-js","path":"/patterns/general-patterns/form-validation","result":{"data":{"page":{"frontmatter":{"meta":null,"title":"Form validation","intro":"Initial form validation at Länsförsäkringar is done as the user submits a form page. If there are any errors the user is automatically scrolled to the topmost error. As the user starts to correct errors they get immediate feedback on their progress.","template":"ArticlePage","category":"General Patterns","background":null,"wide":null,"lang":null,"contentTop":null,"heroBlock":null},"htmlAst":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The rules for form validation are based on a combination of academic research and our own user testing. Our review of academic research on form validation found that there are two general patterns which outperform others when user experience, completion time and amount of errors. When these two patterns were tested on LFUI-styled design we found that users preferred and expected the following pattern (also see "},{"type":"element","tagName":"a","properties":{"href":"#technical-implementation"},"children":[{"type":"text","value":"Technical implementation"}]},{"type":"text","value":" below if you're a developer):"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Let the users fill out the form without interrupting them with error messages. \\"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Exception: if the field has a specific length (e.g. \"personnummer\", \"registreringsnummer\") and the user enters more characters than is expected."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"When the user submits the form any potential error messages are shown to them. This includes warnings if a "},{"type":"element","tagName":"a","properties":{"href":"../required-fields/"},"children":[{"type":"text","value":"required field"}]},{"type":"text","value":" has been left blank."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The user is automatically scrolled to the topmost error (if several, otherwise the error). Again, including blank required fields."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"As the user starts to correct the error it is controlled live, which means we can provide the user with positive feedback as soon as they've corrected the error.\\"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If a required field has been left blank the error message is removed as soon as the user starts entering text/data into the field. From there on validation follows the general pattern."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{"id":"här-ska-det-sen-ligga-ett-fullt-fungerande-exempel-på-validering-med-alla-steg","style":"position:relative;"},"children":[{"type":"text","value":"HÄR SKA DET SEN LIGGA ETT FULLT FUNGERANDE EXEMPEL PÅ VALIDERING MED ALLA STEG"},{"type":"element","tagName":"a","properties":{"href":"#h%C3%A4r-ska-det-sen-ligga-ett-fullt-fungerande-exempel-p%C3%A5-validering-med-alla-steg","ariaLabel":"här ska det sen ligga ett fullt fungerande exempel på validering med alla steg permalink","className":["Heading--anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"width":"14","height":"19"},"children":[{"type":"element","tagName":"path","properties":{"d":"M2.965 18.293l1.02-4.992h3.68l-1.009 4.992h1.758l1.02-4.992h3.609v-1.746H9.785l.88-4.254h2.378V5.555h-2.027l1.02-5.028h-1.77l-1.02 5.028H5.555L6.575.527H4.815l-1.02 5.028H.247V7.3h3.2l-.868 4.254H.246V13.3h1.98l-1.019 4.992h1.758zm5.05-6.738h-3.68L5.204 7.3h3.692l-.88 4.254z","fill":"#E5E5E5","fillRule":"nonzero"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"technical-implementation","style":"position:relative;"},"children":[{"type":"text","value":"Technical implementation"},{"type":"element","tagName":"a","properties":{"href":"#technical-implementation","ariaLabel":"technical implementation permalink","className":["Heading--anchor","after"]},"children":[{"type":"element","tagName":"svg","properties":{"width":"14","height":"19"},"children":[{"type":"element","tagName":"path","properties":{"d":"M2.965 18.293l1.02-4.992h3.68l-1.009 4.992h1.758l1.02-4.992h3.609v-1.746H9.785l.88-4.254h2.378V5.555h-2.027l1.02-5.028h-1.77l-1.02 5.028H5.555L6.575.527H4.815l-1.02 5.028H.247V7.3h3.2l-.868 4.254H.246V13.3h1.98l-1.019 4.992h1.758zm5.05-6.738h-3.68L5.204 7.3h3.692l-.88 4.254z","fill":"#E5E5E5","fillRule":"nonzero"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"As the technical implementation of form validation differs a bit from how the users experience the validation, make sure to read the following if you're a developer."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Specific field validation is controlled/fired when the user leaves the input (onBlur). The validation is not \"live\" on each change to the value to avoid interrupting and distracting the user with an error stating the value is faulty before the user has had a chance to fill it out completely."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"When going back to a validated field with an error, validation is then controlled \"live\" on each change to the value. This is to give a positive interaction to the user upon filling the form out correctly."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"An exception to the two points above is when an input field asks for a value with a specific length (i.e personnummer, registreringsnummer). Upon reaching the specific length, the value can be validated before the user leaves the field. Never before reaching the specific length, though."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Seeing if all required input fields have been filled out at all is controlled when clicking the submit button."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If a field has a validation error due to the point above (that is, not having a value at all), the validation error message is removed when the user begins to fill out the input field. Validation then follows the \"regular\" validation."}]},{"type":"text","value":"\n"}]}],"data":{"quirksMode":false}},"html":"<p>The rules for form validation are based on a combination of academic research and our own user testing. Our review of academic research on form validation found that there are two general patterns which outperform others when user experience, completion time and amount of errors. When these two patterns were tested on LFUI-styled design we found that users preferred and expected the following pattern (also see <a href=\"#technical-implementation\">Technical implementation</a> below if you're a developer):</p>\n<ol>\n<li>\n<p>Let the users fill out the form without interrupting them with error messages. \\</p>\n<ul>\n<li>Exception: if the field has a specific length (e.g. \"personnummer\", \"registreringsnummer\") and the user enters more characters than is expected.</li>\n</ul>\n</li>\n<li>When the user submits the form any potential error messages are shown to them. This includes warnings if a <a href=\"../required-fields/\">required field</a> has been left blank.</li>\n<li>The user is automatically scrolled to the topmost error (if several, otherwise the error). Again, including blank required fields.</li>\n<li>\n<p>As the user starts to correct the error it is controlled live, which means we can provide the user with positive feedback as soon as they've corrected the error.\\</p>\n<ul>\n<li>If a required field has been left blank the error message is removed as soon as the user starts entering text/data into the field. From there on validation follows the general pattern.</li>\n</ul>\n</li>\n</ol>\n<h1 id=\"här-ska-det-sen-ligga-ett-fullt-fungerande-exempel-på-validering-med-alla-steg\" style=\"position:relative;\">HÄR SKA DET SEN LIGGA ETT FULLT FUNGERANDE EXEMPEL PÅ VALIDERING MED ALLA STEG<a href=\"#h%C3%A4r-ska-det-sen-ligga-ett-fullt-fungerande-exempel-p%C3%A5-validering-med-alla-steg\" aria-label=\"här ska det sen ligga ett fullt fungerande exempel på validering med alla steg permalink\" class=\"Heading--anchor after\"><svg width=\"14\" height=\"19\"><path d=\"M2.965 18.293l1.02-4.992h3.68l-1.009 4.992h1.758l1.02-4.992h3.609v-1.746H9.785l.88-4.254h2.378V5.555h-2.027l1.02-5.028h-1.77l-1.02 5.028H5.555L6.575.527H4.815l-1.02 5.028H.247V7.3h3.2l-.868 4.254H.246V13.3h1.98l-1.019 4.992h1.758zm5.05-6.738h-3.68L5.204 7.3h3.692l-.88 4.254z\" fill=\"#E5E5E5\" fill-rule=\"nonzero\"/></svg></a></h1>\n<h2 id=\"technical-implementation\" style=\"position:relative;\">Technical implementation<a href=\"#technical-implementation\" aria-label=\"technical implementation permalink\" class=\"Heading--anchor after\"><svg width=\"14\" height=\"19\"><path d=\"M2.965 18.293l1.02-4.992h3.68l-1.009 4.992h1.758l1.02-4.992h3.609v-1.746H9.785l.88-4.254h2.378V5.555h-2.027l1.02-5.028h-1.77l-1.02 5.028H5.555L6.575.527H4.815l-1.02 5.028H.247V7.3h3.2l-.868 4.254H.246V13.3h1.98l-1.019 4.992h1.758zm5.05-6.738h-3.68L5.204 7.3h3.692l-.88 4.254z\" fill=\"#E5E5E5\" fill-rule=\"nonzero\"/></svg></a></h2>\n<p>As the technical implementation of form validation differs a bit from how the users experience the validation, make sure to read the following if you're a developer.</p>\n<ul>\n<li>Specific field validation is controlled/fired when the user leaves the input (onBlur). The validation is not \"live\" on each change to the value to avoid interrupting and distracting the user with an error stating the value is faulty before the user has had a chance to fill it out completely.</li>\n<li>When going back to a validated field with an error, validation is then controlled \"live\" on each change to the value. This is to give a positive interaction to the user upon filling the form out correctly.</li>\n<li>An exception to the two points above is when an input field asks for a value with a specific length (i.e personnummer, registreringsnummer). Upon reaching the specific length, the value can be validated before the user leaves the field. Never before reaching the specific length, though.</li>\n<li>Seeing if all required input fields have been filled out at all is controlled when clicking the submit button.</li>\n<li>If a field has a validation error due to the point above (that is, not having a value at all), the validation error message is removed when the user begins to fill out the input field. Validation then follows the \"regular\" validation.</li>\n</ul>"}},"pageContext":{"id":"877c2969-369e-5bd3-93ad-08375c091bc9"}}}