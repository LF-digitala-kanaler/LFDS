{"version":3,"file":"cms.54452621158c5b6e71ba.hot-update.js","sources":["webpack:///./src/components/Menu/MenuItem.js"],"sourcesContent":["import React, { useState, useLayoutEffect}  from 'react';\nimport style from './index.module.css';\nimport MenuLink from './MenuLink';\nimport classNames from 'classnames/bind';\n\nlet cx = classNames.bind(style);\n  \nconst MenuItem = ({item, location}) => {\n  const [open, setOpen] = useState(false);  \n  useLayoutEffect(() => {\n    let url = location.pathname.replace(/\\/$/, \"\");\n        url = location.pathname.split('/');\n        url.pop()\n    \n    item.childLink.filter((active) => {\n      if(active.node.fields.slug.match(location.pathname) && url.length >= 3) {\n        setOpen(true)\n      } \n      return null\n    },)\n\n  }, [item, location]);\n\n  const stripTrailingSlash = (str) => {\n    return str.endsWith('/') ?\n        str.slice(0, -1) :\n        str;\n};\n\n  const className = cx({\n    Menu__item: true,\n    'Menu__item--active': open,\n    '' : !open\n  });\n\n  const toggleSubMenu = () => {\n    setOpen(!open)\n  };\n  \n  const renderSubMenuItems = (items) => {\n   \n    return items.map((item) => {\n      return (\n        <li className={style.Menu__item} key={item.node.id}><MenuLink title={item.node.frontmatter.title} path={stripTrailingSlash(item.node.fields.slug)} /></li>\n      );\n    });\n  };  \n  \n  const hasCategory = !(item.parentLink === 'NoCategory');\n  return( \n    hasCategory ? (\n      <li key={item.childLink[0].node.id} className={className} >\n        <MenuLink parent path={item.childLink[0].node.fields.contentType} title={item.parentLink.replace(/-/g, ' ')} collapse={toggleSubMenu} />\n        <ul className={style.Menu__sub} >\n          {renderSubMenuItems(item.childLink)}\n        </ul>\n      </li>\n     ) : (\n      <>{renderSubMenuItems(item.childLink)}</>\n  )\n  )\n}\n\nexport default MenuItem;\n\n\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAHA;AACA;AAKA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AAvDA;AACA;AAuDA;AAAA;;;;;;;;;;AA1DA;AAEA;;;;;;;;;;;;;;A","sourceRoot":""}